@inject NavigationManager navigation

@using SmICSCoreLib.REST

<nav class="navbar navbar-expand-lg shadow-sm fixed-top" width="100%">
    <div class="container_logo">
        @*<h1>SmICS</h1>*@
        <a href="">
            <img src="/resources/SmICS_Logo.png" />
        </a>
    </div>
    <div class="navbar-nav-box">
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="state">
                <span class="oi oi-vertical-align-bottom" aria-hidden="true"></span> Statistik
            </NavLink>
        </div>
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="@visuLink" Match="NavLinkMatch.All">
                <span class="oi oi-eye" aria-hidden="true"></span> Visualisierung
            </NavLink>
        </div>
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="rkiconfig" Match="NavLinkMatch.All">
                <span class="oi oi-clipboard" aria-hidden="true"></span> RKI Konfigurationen
            </NavLink>
        </div>
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="contactIndex" Match="NavLinkMatch.All">
                <span class="oi oi-people" aria-hidden="true"></span> Kontakterfassung klin. Personals (Prototyp)
            </NavLink>
        </div>
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="MiBi" Match="NavLinkMatch.All">
                <span class="oi oi-clipboard" aria-hidden="true"></span> MiBi
            </NavLink>
        </div>
        <div class="nav-item-box">
            <NavLink class="nav-link-box" href="patient" Match="NavLinkMatch.All">
                <span class="oi oi-people" aria-hidden="true"></span> Patientenansicht
            </NavLink>
        </div>
        <!--
        <li class="nav-item-box" style="display: none;">
            <NavLink class="nav-link-box" href="/swagger/index.html" Match="NavLinkMatch.All">
                <span class="oi oi-list" aria-hidden="true"></span> REST API
            </NavLink>
        </li>-->
    </div>
</nav>

@code {
    private string visuLink = "";

    protected override void OnInitialized()
    {

        string baseURL = navigation.BaseUri;
        string[] splitted = baseURL.Split(':');
        string http = splitted[0] + ":";
        string url = splitted[1];
        string port = ":" + OpenehrConfig.smicsVisuPort;

        visuLink = http + url.Substring(0, url.LastIndexOf('/')) + port;

    }
}
